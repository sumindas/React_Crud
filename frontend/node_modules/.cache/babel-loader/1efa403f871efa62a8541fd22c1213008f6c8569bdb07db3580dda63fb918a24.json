{"ast":null,"code":"var _jsxFileName = \"D:\\\\Sumindas\\\\brocamp-sumin\\\\React-Workouts\\\\React_Crud\\\\frontend\\\\src\\\\Admin\\\\AdminLogin.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport './Admincss.css';\nimport { ADMINLOGIN } from '../Redux/ActionType';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Login = () => {\n  _s();\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const admintoken = useSelector(state => state.admintoken);\n  const [error, setError] = useState(null);\n  const navigate = useNavigate();\n  const dispatch = useDispatch();\n  useEffect(() => {\n    if (admintoken) {\n      navigate('/admin-home');\n    } else {\n      navigate('/admin');\n    }\n  }, [admintoken, navigate]);\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setError(null);\n    await fetch('http://127.0.0.1:8000/cadmin/', {\n      method: 'POST',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json'\n      },\n      // credentials: 'include',\n      body: JSON.stringify({\n        email,\n        password\n      })\n    }).then(async res => {\n      const data = await res.json();\n      console.log(data);\n      console.log(data.error);\n      switch (data.error) {\n        case 'Both email and password required':\n          setError(data.error);\n          break;\n        case 'Incorrect Password':\n          setError(data.error);\n          break;\n        case 'Admin Access is required':\n          setError(data.error);\n          break;\n        default:\n          break;\n      }\n      if (!data.error) {\n        dispatch({\n          type: ADMINLOGIN,\n          token: data\n        });\n        // Navigate to the desired location\n        navigate('/admin-home');\n      }\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"adminbox\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Admin Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: e => handleSubmit(e),\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"form-label\",\n            children: \"Email address\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            value: email,\n            onChange: e => setEmail(e.target.value),\n            type: \"email\",\n            className: \"form-control\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"form-label\",\n            children: \"Password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            value: password,\n            onChange: e => setPassword(e.target.value),\n            type: \"password\",\n            className: \"form-control\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 21\n        }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"error\",\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 31\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"btn btn-primary\",\n          children: \"Submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n};\n_s(Login, \"nYOmCvYgBr5ulkKP3IJW3pS6pKk=\", false, function () {\n  return [useSelector, useNavigate, useDispatch];\n});\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useEffect","useState","useNavigate","useDispatch","useSelector","ADMINLOGIN","jsxDEV","_jsxDEV","Fragment","_Fragment","Login","_s","email","setEmail","password","setPassword","admintoken","state","error","setError","navigate","dispatch","handleSubmit","e","preventDefault","fetch","method","headers","Accept","body","JSON","stringify","then","res","data","json","console","log","type","token","children","className","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","value","onChange","target","_c","$RefreshReg$"],"sources":["D:/Sumindas/brocamp-sumin/React-Workouts/React_Crud/frontend/src/Admin/AdminLogin.js"],"sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport { useNavigate } from 'react-router-dom'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport './Admincss.css'\r\nimport { ADMINLOGIN } from '../Redux/ActionType'\r\n\r\nconst Login = () => {\r\n\r\n    const [email, setEmail] = useState('')\r\n    const [password, setPassword] = useState('')\r\n    const admintoken = useSelector(state => state.admintoken)\r\n    const [error, setError] = useState(null)\r\n    const navigate = useNavigate()\r\n    const dispatch = useDispatch()\r\n\r\n    useEffect(() => {\r\n        if (admintoken) {\r\n            navigate('/admin-home')\r\n        }else{\r\n            navigate('/admin')\r\n        }\r\n\r\n    }, [admintoken, navigate])\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        setError(null)\r\n        await fetch('http://127.0.0.1:8000/cadmin/', {\r\n            method: 'POST',\r\n            headers: {\r\n                Accept: 'application/json',\r\n                'Content-Type': 'application/json',\r\n            },\r\n            // credentials: 'include',\r\n            body: JSON.stringify({\r\n                email, password\r\n            })\r\n        }).then(async (res) => {\r\n            const data = await res.json();\r\n            console.log(data)\r\n            console.log(data.error)\r\n\r\n            switch (data.error) {\r\n                case 'Both email and password required':\r\n                    setError(data.error);\r\n                    break;\r\n\r\n                case 'Incorrect Password':\r\n                    setError(data.error);\r\n                    break;\r\n\r\n                case 'Admin Access is required':\r\n                    setError(data.error);\r\n                    break;\r\n\r\n                default:\r\n                    break;\r\n            }\r\n            \r\n\r\n            if (!data.error) {\r\n                dispatch({\r\n                    type: ADMINLOGIN,\r\n                    token: data,\r\n\r\n                })\r\n                // Navigate to the desired location\r\n                navigate('/admin-home');\r\n            }\r\n\r\n\r\n\r\n\r\n        })\r\n\r\n\r\n    }\r\n\r\n\r\n    return (\r\n        <>\r\n            <div className='adminbox'>\r\n                <h1>Admin Login</h1>\r\n                <form onSubmit={(e) => handleSubmit(e)}>\r\n\r\n                    <div className=\"mb-3\">\r\n                        <label className=\"form-label\">Email address</label>\r\n                        <input value={email} onChange={(e) => setEmail(e.target.value)} type=\"email\" className=\"form-control\" />\r\n                    </div>\r\n\r\n                    <div className=\"mb-3\">\r\n                        <label className=\"form-label\">Password</label>\r\n                        <input value={password} onChange={(e) => setPassword(e.target.value)} type=\"password\" className=\"form-control\" />\r\n                    </div>\r\n\r\n                    {error && <div className='error'>{error}</div>}\r\n                    <button type=\"submit\" className=\"btn btn-primary\">Submit</button>\r\n\r\n                </form>\r\n\r\n            </div>\r\n\r\n\r\n\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Login"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}